"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["61778"],{782198:function(n,e,t){t.r(e),t.d(e,{default:()=>a,frontMatter:()=>i,metadata:()=>r,assets:()=>c,toc:()=>o,contentTitle:()=>l});var r=JSON.parse('{"id":"data-operate/export/export-overview","title":"Export Overview","description":"\x3c!--","source":"@site/docs/data-operate/export/export-overview.md","sourceDirName":"data-operate/export","slug":"/data-operate/export/export-overview","permalink":"/docs/dev/data-operate/export/export-overview","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Export Overview","language":"en"},"sidebar":"docs","previous":{"title":"Transaction","permalink":"/docs/dev/data-operate/transaction"},"next":{"title":"EXPORT","permalink":"/docs/dev/data-operate/export/export-manual"}}'),s=t("785893"),d=t("250065");let i={title:"Export Overview",language:"en"},l=void 0,c={},o=[{value:"Choosing Export Methods",id:"choosing-export-methods",level:2},{value:"SELECT INTO OUTFILE",id:"select-into-outfile",level:3},{value:"EXPORT",id:"export",level:3},{value:"MySQL Dump",id:"mysql-dump",level:3},{value:"Export File Column Type Mapping",id:"export-file-column-type-mapping",level:2}];function h(n){let e={blockquote:"blockquote",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"The data export function is used to write the query result set or Doris table data into the specified storage system in the specified file format."}),"\n",(0,s.jsx)(e.p,{children:"The differences between the export function and the data backup function are as follows:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u2003"}),(0,s.jsx)(e.th,{children:"Data Export"}),(0,s.jsx)(e.th,{children:"Data Backup"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Final Storage Location"}),(0,s.jsx)(e.td,{children:"HDFS, Object Storage, Local File System"}),(0,s.jsx)(e.td,{children:"HDFS, Object Storage"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Data Format"}),(0,s.jsx)(e.td,{children:"Open file formats such as Parquet, ORC, CSV"}),(0,s.jsx)(e.td,{children:"Doris internal storage format"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Execution Speed"}),(0,s.jsx)(e.td,{children:"Moderate (requires reading data and converting to the target data format)"}),(0,s.jsx)(e.td,{children:"Fast (no parsing and conversion required, directly upload Doris data files)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Flexibility"}),(0,s.jsx)(e.td,{children:"Can flexibly define the data to be exported through SQL statements"}),(0,s.jsx)(e.td,{children:"Only supports table-level full backup"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Use Cases"}),(0,s.jsx)(e.td,{children:"Result set download, data exchange between different systems"}),(0,s.jsx)(e.td,{children:"Data backup, data migration between Doris clusters"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"choosing-export-methods",children:"Choosing Export Methods"}),"\n",(0,s.jsx)(e.p,{children:"Doris provides three different data export methods:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"SELECT INTO OUTFILE"}),": Supports the export of any SQL result set."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"EXPORT"}),": Supports the export of partial or full table data."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"MySQL DUMP"}),": Compatible with the MySQL dump command for data export."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"The similarities and differences between the three export methods are as follows:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u2003"}),(0,s.jsx)(e.th,{children:"SELECT INTO OUTFILE"}),(0,s.jsx)(e.th,{children:"EXPORT"}),(0,s.jsx)(e.th,{children:"MySQL DUMP"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Synchronous/Asynchronous"}),(0,s.jsx)(e.td,{children:"Synchronous"}),(0,s.jsx)(e.td,{children:"Asynchronous (submit EXPORT tasks and check task progress via SHOW EXPORT command)"}),(0,s.jsx)(e.td,{children:"Synchronous"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Supports any SQL"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"No"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Export specific partitions"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"No"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Export specific tablets"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"No"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Concurrent export"}),(0,s.jsx)(e.td,{children:"Supported with high concurrency (depends on whether the SQL statement has operators such as ORDER BY that need to be processed on a single node)"}),(0,s.jsx)(e.td,{children:"Supported with high concurrency (supports tablet-level concurrent export)"}),(0,s.jsx)(e.td,{children:"Not supported, single-threaded export only"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Supported export data formats"}),(0,s.jsx)(e.td,{children:"Parquet, ORC, CSV"}),(0,s.jsx)(e.td,{children:"Parquet, ORC, CSV"}),(0,s.jsx)(e.td,{children:"MySQL Dump proprietary format"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Supports exporting external tables"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Partially supported"}),(0,s.jsx)(e.td,{children:"No"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Supports exporting views"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Yes"}),(0,s.jsx)(e.td,{children:"Yes"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Supported export locations"}),(0,s.jsx)(e.td,{children:"S3, HDFS"}),(0,s.jsx)(e.td,{children:"S3, HDFS"}),(0,s.jsx)(e.td,{children:"LOCAL"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"select-into-outfile",children:"SELECT INTO OUTFILE"}),"\n",(0,s.jsx)(e.p,{children:"Suitable for the following scenarios:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Data needs to be exported after complex calculations, such as filtering, aggregation, joins, etc."}),"\n",(0,s.jsx)(e.li,{children:"Suitable for scenarios that require synchronous tasks."}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"export",children:"EXPORT"}),"\n",(0,s.jsx)(e.p,{children:"Suitable for the following scenarios:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Large-scale single table export, with simple filtering conditions."}),"\n",(0,s.jsx)(e.li,{children:"Scenarios that require asynchronous task submission."}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"mysql-dump",children:"MySQL Dump"}),"\n",(0,s.jsx)(e.p,{children:"Suitable for the following scenarios:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Compatible with the MySQL ecosystem, requires exporting both table structure and data."}),"\n",(0,s.jsx)(e.li,{children:"Only for development testing or scenarios with very small data volumes."}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"export-file-column-type-mapping",children:"Export File Column Type Mapping"}),"\n",(0,s.jsx)(e.p,{children:"Parquet and ORC file formats have their own data types. Doris's export function can automatically map Doris's data types to the corresponding data types in Parquet and ORC file formats. The CSV format does not have types, all data is output as text."}),"\n",(0,s.jsx)(e.p,{children:"The following table shows the mapping between Doris data types and Parquet, ORC file format data types:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Doris Type"}),(0,s.jsx)(e.th,{children:"Arrow Type"}),(0,s.jsx)(e.th,{children:"Orc Type"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"boolean"}),(0,s.jsx)(e.td,{children:"boolean"}),(0,s.jsx)(e.td,{children:"boolean"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"tinyint"}),(0,s.jsx)(e.td,{children:"int8"}),(0,s.jsx)(e.td,{children:"tinyint"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"smallint"}),(0,s.jsx)(e.td,{children:"int16"}),(0,s.jsx)(e.td,{children:"smallint"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"int"}),(0,s.jsx)(e.td,{children:"int32"}),(0,s.jsx)(e.td,{children:"int"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"bigint"}),(0,s.jsx)(e.td,{children:"int64"}),(0,s.jsx)(e.td,{children:"bigint"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"largeInt"}),(0,s.jsx)(e.td,{children:"utf8"}),(0,s.jsx)(e.td,{children:"string"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"date"}),(0,s.jsx)(e.td,{children:"utf8"}),(0,s.jsx)(e.td,{children:"string"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"datev2"}),(0,s.jsx)(e.td,{children:"Date32Type"}),(0,s.jsx)(e.td,{children:"string"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"datetime"}),(0,s.jsx)(e.td,{children:"utf8"}),(0,s.jsx)(e.td,{children:"string"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"datetimev2"}),(0,s.jsx)(e.td,{children:"TimestampType"}),(0,s.jsx)(e.td,{children:"timestamp"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"float"}),(0,s.jsx)(e.td,{children:"float32"}),(0,s.jsx)(e.td,{children:"float"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"double"}),(0,s.jsx)(e.td,{children:"float64"}),(0,s.jsx)(e.td,{children:"double"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"char / varchar / string"}),(0,s.jsx)(e.td,{children:"utf8"}),(0,s.jsx)(e.td,{children:"string"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"decimal"}),(0,s.jsx)(e.td,{children:"decimal128"}),(0,s.jsx)(e.td,{children:"decimal"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"struct"}),(0,s.jsx)(e.td,{children:"struct"}),(0,s.jsx)(e.td,{children:"struct"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"map"}),(0,s.jsx)(e.td,{children:"map"}),(0,s.jsx)(e.td,{children:"map"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"array"}),(0,s.jsx)(e.td,{children:"list"}),(0,s.jsx)(e.td,{children:"array"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"json"}),(0,s.jsx)(e.td,{children:"utf8"}),(0,s.jsx)(e.td,{children:"string"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"variant"}),(0,s.jsx)(e.td,{children:"utf8"}),(0,s.jsx)(e.td,{children:"string"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"bitmap"}),(0,s.jsx)(e.td,{children:"binary"}),(0,s.jsx)(e.td,{children:"binary"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"quantile_state"}),(0,s.jsx)(e.td,{children:"binary"}),(0,s.jsx)(e.td,{children:"binary"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"hll"}),(0,s.jsx)(e.td,{children:"binary"}),(0,s.jsx)(e.td,{children:"binary"})]})]})]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Note: When Doris exports data to the Parquet file format, it first converts the in-memory data of Doris into the Arrow in-memory data format, and then writes it out to the Parquet file format via Arrow."}),"\n"]})]})}function a(n={}){let{wrapper:e}={...(0,d.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},250065:function(n,e,t){t.d(e,{Z:function(){return l},a:function(){return i}});var r=t(667294);let s={},d=r.createContext(s);function i(n){let e=r.useContext(d);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(d.Provider,{value:e},n.children)}}}]);
"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["157753"],{539291:function(e,t,n){n.r(t),n.d(t,{default:()=>h,frontMatter:()=>l,metadata:()=>s,assets:()=>o,toc:()=>d,contentTitle:()=>r});var s=JSON.parse('{"id":"sql-manual/sql-reference/Data-Manipulation-Statements/Load/MYSQL-LOAD","title":"MYSQL-LOAD","description":"\x3c!--","source":"@site/versioned_docs/version-2.0/sql-manual/sql-reference/Data-Manipulation-Statements/Load/MYSQL-LOAD.md","sourceDirName":"sql-manual/sql-reference/Data-Manipulation-Statements/Load","slug":"/sql-manual/sql-reference/Data-Manipulation-Statements/Load/MYSQL-LOAD","permalink":"/docs/2.0/sql-manual/sql-reference/Data-Manipulation-Statements/Load/MYSQL-LOAD","draft":false,"unlisted":false,"tags":[],"version":"2.0","frontMatter":{"title":"MYSQL-LOAD","language":"en"},"sidebar":"docs","previous":{"title":"BROKER-LOAD","permalink":"/docs/2.0/sql-manual/sql-reference/Data-Manipulation-Statements/Load/BROKER-LOAD"},"next":{"title":"CREATE-ROUTINE-LOAD","permalink":"/docs/2.0/sql-manual/sql-reference/Data-Manipulation-Statements/Load/CREATE-ROUTINE-LOAD"}}'),a=n("785893"),i=n("250065");let l={title:"MYSQL-LOAD",language:"en"},r=void 0,o={},d=[{value:"MYSQL-LOAD",id:"mysql-load",level:2},{value:"Name",id:"name",level:3},{value:"Description",id:"description",level:3},{value:"PROPERTIES",id:"properties",level:3},{value:"Example",id:"example",level:3},{value:"Keywords",id:"keywords",level:3}];function c(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"mysql-load",children:"MYSQL-LOAD"}),"\n",(0,a.jsx)(t.h3,{id:"name",children:"Name"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"MYSQL LOAD\n"})}),"\n",(0,a.jsx)(t.h3,{id:"description",children:"Description"}),"\n",(0,a.jsx)(t.p,{children:"mysql-load: Import local data using the MySql client"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"LOAD DATA\n[LOCAL]\nINFILE 'file_name'\nINTO TABLE tbl_name\n[PARTITION (partition_name [, partition_name] ...)]\n[COLUMNS TERMINATED BY 'string']\n[LINES TERMINATED BY 'string']\n[IGNORE number {LINES | ROWS}]\n[(col_name_or_user_var [, col_name_or_user_var] ...)]\n[SET (col_name={expr | DEFAULT} [, col_name={expr | DEFAULT}] ...)]\n[PROPERTIES (key1 = value1 [, key2=value2]) ]\n"})}),"\n",(0,a.jsx)(t.p,{children:"This statement is used to import data to the specified table. Unlike normal Load, this import method is a synchronous import."}),"\n",(0,a.jsx)(t.p,{children:"This import method can still guarantee the atomicity of a batch of import tasks, either all data imports are successful or all fail."}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["MySQL Load starts with the syntax ",(0,a.jsx)(t.code,{children:"LOAD DATA"}),", without specifying ",(0,a.jsx)(t.code,{children:"LABEL"})]}),"\n",(0,a.jsxs)(t.li,{children:["Specify  ",(0,a.jsx)(t.code,{children:"LOCAL"})," to read client side files. Not specified to read FE server side local files. Server side load was disabled by default. It can be enabled by setting a secure path in FE configuration ",(0,a.jsx)(t.code,{children:"mysql_load_server_secure_path"})]}),"\n",(0,a.jsxs)(t.li,{children:["The local fill path will be filled after ",(0,a.jsx)(t.code,{children:"INFILE"}),", which can be a relative path or an absolute path. Currently only a single file is supported, and multiple files are not supported"]}),"\n",(0,a.jsxs)(t.li,{children:["The table name after ",(0,a.jsx)(t.code,{children:"INTO TABLE"})," can specify the database name, as shown in the case. It can also be omitted, and the database where the current user is located will be used."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"PARTITION"})," syntax supports specified partition to import"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"COLUMNS TERMINATED BY"})," specifies the column separator"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"LINES TERMINATED BY"})," specifies the line separator"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"IGNORE num LINES"})," The user skips the header of the CSV and can skip any number of lines. This syntax can also be replaced by'IGNORE num ROWS '"]}),"\n",(0,a.jsxs)(t.li,{children:["Column mapping syntax, please refer to the column mapping chapter of ",(0,a.jsx)(t.a,{href:"../../../../data-operate/import/mysql-load-manual",children:"Imported Data Transformation"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"PROPERTIES"})," parameter configuration, see below for details"]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"properties",children:"PROPERTIES"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"max_filter_ratio: The maximum tolerable data ratio that can be filtered (for reasons such as data irregularity). Zero tolerance by default. Data irregularities do not include rows filtered out by where conditions."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"timeout: Specify the import timeout. in seconds. The default is 600 seconds. The setting range is from 1 second to 259200 seconds."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"strict_mode: The user specifies whether to enable strict mode for this import. The default is off."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"timezone: Specify the time zone used for this import. The default is Dongba District. This parameter affects the results of all time zone-related functions involved in the import."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"exec_mem_limit: Load memory limit. Default is 2GB. The unit is bytes."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"trim_double_quotes: Boolean type, The default value is false. True means that the outermost double quotes of each field in the load file are trimmed."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:['enclose: When the csv data field contains row delimiters or column delimiters, to prevent accidental truncation, single-byte characters can be specified as brackets for protection. For example, the column separator is ",", the bracket is "\'", and the data is "a,\'b,c\'", then "b,c" will be parsed as a field. Note: when the bracket is ',(0,a.jsx)(t.code,{children:'"'}),", trim_double_quotes must be set to true."]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:'escape: Used to escape characters that appear in a csv field identical to the enclosing characters. For example, if the data is "a,\'b,\'c\'", enclose is "\'", and you want "b,\'c to be parsed as a field, you need to specify a single-byte escape character, such as "", and then modify the data to "a,\' b,\'c\'".'}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"example",children:"Example"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Import the data from the client side local file ",(0,a.jsx)(t.code,{children:"testData"})," into the table ",(0,a.jsx)(t.code,{children:"testTbl"})," in the database ",(0,a.jsx)(t.code,{children:"testDb"}),". Specify a timeout of 100 seconds"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("timeout"="100")\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Import the data from the server side local file ",(0,a.jsx)(t.code,{children:"/root/testData"})," (set FE config ",(0,a.jsx)(t.code,{children:"mysql_load_server_secure_path"})," to be ",(0,a.jsx)(t.code,{children:"root"})," already) into the table ",(0,a.jsx)(t.code,{children:"testTbl"})," in the database ",(0,a.jsx)(t.code,{children:"testDb"}),". Specify a timeout of 100 seconds"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'LOAD DATA\nINFILE \'/root/testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("timeout"="100")\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Import data from client side local file ",(0,a.jsx)(t.code,{children:"testData"})," into table ",(0,a.jsx)(t.code,{children:"testTbl"})," in database ",(0,a.jsx)(t.code,{children:"testDb"}),", allowing 20% error rate"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("max_filter_ratio"="0.2")\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Import the data from the client side local file ",(0,a.jsx)(t.code,{children:"testData"})," into the table ",(0,a.jsx)(t.code,{children:"testTbl"})," in the database ",(0,a.jsx)(t.code,{children:"testDb"}),", allowing a 20% error rate and specifying the column names of the file"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\n(k2, k1, v1)\nPROPERTIES ("max_filter_ratio"="0.2")\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Import the data in the local file ",(0,a.jsx)(t.code,{children:"testData"})," into the p1, p2 partitions in the table of ",(0,a.jsx)(t.code,{children:"testTbl"})," in the database ",(0,a.jsx)(t.code,{children:"testDb"}),", allowing a 20% error rate."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPARTITION (p1, p2)\nPROPERTIES ("max_filter_ratio"="0.2")\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Import the data in the CSV file ",(0,a.jsx)(t.code,{children:"testData"})," with a local row delimiter of ",(0,a.jsx)(t.code,{children:"0102"})," and a column delimiter of ",(0,a.jsx)(t.code,{children:"0304"})," into the table ",(0,a.jsx)(t.code,{children:"testTbl"})," in the database ",(0,a.jsx)(t.code,{children:"testDb"}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"LOAD DATA LOCAL\nINFILE 'testData'\nINTO TABLE testDb.testTbl\nCOLUMNS TERMINATED BY '0304'\nLINES TERMINATED BY '0102'\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Import the data from the local file ",(0,a.jsx)(t.code,{children:"testData"})," into the p1, p2 partitions in the table of ",(0,a.jsx)(t.code,{children:"testTbl"})," in the database ",(0,a.jsx)(t.code,{children:"testDb"})," and skip the first 3 lines."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"LOAD DATA LOCAL\nINFILE 'testData'\nINTO TABLE testDb.testTbl\nPARTITION (p1, p2)\nIGNORE 1 LINES\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Import data for strict schema filtering and set the time zone to Africa/Abidjan"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("strict_mode"="true", "timezone"="Africa/Abidjan")\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Import data is limited to 10GB of load memory and timed out in 10 minutes"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("exec_mem_limit"="10737418240", "timeout"="600")\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"keywords",children:"Keywords"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"MYSQL, LOAD\n"})})]})}function h(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return r},a:function(){return l}});var s=n(667294);let a={},i=s.createContext(a);function l(e){let t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);
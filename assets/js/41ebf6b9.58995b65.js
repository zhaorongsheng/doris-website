"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["378228"],{417193:function(e,n,i){i.r(n),i.d(n,{default:()=>h,frontMatter:()=>o,metadata:()=>r,assets:()=>a,toc:()=>c,contentTitle:()=>t});var r=JSON.parse('{"id":"admin-manual/auth/ranger","title":"Integration with Apache Ranger","description":"\x3c!--","source":"@site/versioned_docs/version-3.0/admin-manual/auth/ranger.md","sourceDirName":"admin-manual/auth","slug":"/admin-manual/auth/ranger","permalink":"/docs/3.0/admin-manual/auth/ranger","draft":false,"unlisted":false,"tags":[],"version":"3.0","frontMatter":{"title":"Integration with Apache Ranger","language":"en"}}'),s=i("785893"),l=i("250065");let o={title:"Integration with Apache Ranger",language:"en"},t=void 0,a={},c=[{value:"Installation",id:"installation",level:2},{value:"Install Doris Ranger plug-in",id:"install-doris-ranger-plug-in",level:3},{value:"Configure the Doris Ranger plug-in",id:"configure-the-doris-ranger-plug-in",level:3},{value:"Configure Doris cluster",id:"configure-doris-cluster",level:3},{value:"Resources and permissions",id:"resources-and-permissions",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Configuring Permissions",id:"configuring-permissions",level:3},{value:"Global Priv",id:"global-priv",level:4},{value:"Catalog Priv",id:"catalog-priv",level:4},{value:"Database Priv",id:"database-priv",level:4},{value:"Table Priv",id:"table-priv",level:4},{value:"Column Priv",id:"column-priv",level:4},{value:"Resource Priv",id:"resource-priv",level:4},{value:"Workload Group Priv",id:"workload-group-priv",level:4},{value:"Row Policy Example",id:"row-policy-example",level:3},{value:"Data Mask Example",id:"data-mask-example",level:3}];function d(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Apache Ranger is a security framework used to monitor, enable services, and manage all-round data security access on the Hadoop platform."}),"\n",(0,s.jsx)(n.p,{children:"In version 2.1.0, Doris supports unified permission management by integrating Apache Ranger."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Note:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"This feature is currently experimental, and the resource objects and permissions configurable in Ranger may change in subsequent versions."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Apache Ranger version needs to be above 2.4.0."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.h3,{id:"install-doris-ranger-plug-in",children:"Install Doris Ranger plug-in"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Download the following files"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://selectdb-doris-1308700295.cos.ap-beijing.myqcloud.com/ranger/ranger-doris-plugin-3.0.0-SNAPSHOT.jar",children:"ranger-doris-plugin-3.0.0-SNAPSHOT.jar"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://selectdb-doris-1308700295.cos.ap-beijing.myqcloud.com/release/jdbc_driver/mysql-connector-java-8.0.25.jar",children:"mysql-connector-java-8.0.25.jar"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Place the downloaded file in the ",(0,s.jsx)(n.code,{children:"ranger-plugins/doris"})," directory of the Ranger service, such as:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/usr/local/service/ranger/ews/webapp/WEB-INF/classes/ranger-plugins/doris/ranger-doris-plugin-3.0.0-SNAPSHOT.jar\n/usr/local/service/ranger/ews/webapp/WEB-INF/classes/ranger-plugins/doris/mysql-connector-java-8.0.25.jar\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Restart the Ranger service."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Download ",(0,s.jsx)(n.a,{href:"https://github.com/morningman/ranger/blob/doris-plugin/agents-common/src/main/resources/service-defs/ranger-servicedef-doris.json",children:"ranger-servicedef-doris.json"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Execute the following command to upload the definition file to the Ranger service:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'curl -u user:password -X POST \\\n	-H "Accept: application/json" \\\n	-H "Content-Type: application/json" \\\n	http://172.21.0.32:6080/service/plugins/definitions \\\n	-d@ranger-servicedef-doris.json\n'})}),"\n",(0,s.jsx)(n.p,{children:"The username and password are the username and password used to log in to Ranger WebUI."}),"\n",(0,s.jsxs)(n.p,{children:["The service address port can be viewed in the ",(0,s.jsx)(n.code,{children:"ranger.service.http.port"})," configuration item of the ",(0,s.jsx)(n.code,{children:"ranger-admin-site.xml"})," configuration file."]}),"\n",(0,s.jsx)(n.p,{children:"If the execution is successful, the service definition in Json format will be returned, such as:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{\n  "id": 207,\n  "guid": "d3ff9e41-f9dd-4217-bb5f-3fa9996454b6",\n  "isEnabled": true,\n  "createdBy": "Admin",\n  "updatedBy": "Admin",\n  "createTime": 1705817398112,\n  "updateTime": 1705817398112,\n  "version": 1,\n  "name": "doris",\n  "displayName": "Apache Doris",\n  "implClass": "org.apache.ranger.services.doris.RangerServiceDoris",\n  "label": "Doris",\n  "description": "Apache Doris",\n  "options": {\n    "enableDenyAndExceptionsInPolicies": "true"\n  },\n  ...\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"If you want to recreate it, you can use the following command to delete the service definition and then upload it again:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"curl -v -u user:password -X DELETE \\\nhttp://172.21.0.32:6080/service/plugins/definitions/207\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Where ",(0,s.jsx)(n.code,{children:"207"})," is the id returned when created. Before deletion, you need to delete the created Doris service in the Ranger WebUI."]}),"\n",(0,s.jsx)(n.p,{children:"You can also use the following command to list the currently added service definitions in order to obtain the id:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"curl -v -u user:password -X GET \\\nhttp://172.21.0.32:6080/service/plugins/definitions/\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"configure-the-doris-ranger-plug-in",children:"Configure the Doris Ranger plug-in"}),"\n",(0,s.jsx)(n.p,{children:"After the installation is complete, open the Ranger WebUI and you can see the Apache Doris plug-in in the Service Manger interface:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ranger1",src:i(696748).Z+"",width:"3978",height:"1492"})}),"\n",(0,s.jsxs)(n.p,{children:["Click the ",(0,s.jsx)(n.code,{children:"+"})," button next to the plugin to add a Doris service:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ranger2",src:i(712206).Z+"",width:"1844",height:"1810"})}),"\n",(0,s.jsx)(n.p,{children:"The meaning of some parameters of Config Properties is as follows:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Username"}),"/",(0,s.jsx)(n.code,{children:"Password"}),": the username and password of the Doris cluster. It is recommended to use the Admin user here."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"jdbc.driver_class"}),": Connect to the JDBC driver used by Doris. ",(0,s.jsx)(n.code,{children:"com.mysql.cj.jdbc.Driver"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"jdbc.url"}),": JDBC url connection string of Doris cluster. ",(0,s.jsx)(n.code,{children:"jdbc:mysql://172.21.0.101:9030?useSSL=false"})]}),"\n",(0,s.jsxs)(n.li,{children:["Additional parameters:\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"resource.lookup.timeout.value.in.ms"}),": timeout for obtaining meta-information. It is recommended to fill in ",(0,s.jsx)(n.code,{children:"10000"}),", which is 10 seconds."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can click ",(0,s.jsx)(n.code,{children:"Test Connection"})," to check whether the connection can be made."]}),"\n",(0,s.jsxs)(n.p,{children:["Then click ",(0,s.jsx)(n.code,{children:"Add"})," to add the service."]}),"\n",(0,s.jsx)(n.p,{children:"Afterwards, you can see the created service in the Apache Doris plug-in on the Service Manger page. Click on the service to start configuring Ranger."}),"\n",(0,s.jsx)(n.h3,{id:"configure-doris-cluster",children:"Configure Doris cluster"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:"ranger-doris-security.xml"})," file in the conf directory of all FEs with the following content:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'<?xml version="1.0" encoding="UTF-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n    <property>\n        <name>ranger.plugin.doris.policy.cache.dir</name>\n        <value>/path/to/ranger/cache/</value>\n    </property>\n    <property>\n        <name>ranger.plugin.doris.policy.pollIntervalMs</name>\n        <value>30000</value>\n    </property>\n    <property>\n        <name>ranger.plugin.doris.policy.rest.client.connection.timeoutMs</name>\n        <value>60000</value>\n    </property>\n    <property>\n        <name>ranger.plugin.doris.policy.rest.client.read.timeoutMs</name>\n        <value>60000</value>\n    </property>\n    <property>\n        <name>ranger.plugin.doris.policy.rest.url</name>\n        <value>http://172.21.0.32:6080</value>\n    </property>\n    <property>\n        <name>ranger.plugin.doris.policy.source.impl</name>\n        <value>org.apache.ranger.admin.client.RangerAdminRESTClient</value>\n    </property>\n    <property>\n        <name>ranger.plugin.doris.service.name</name>\n        <value>doris</value>\n    </property>\n</configuration>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["You need to change ",(0,s.jsx)(n.code,{children:"ranger.plugin.doris.policy.cache.dir"})," and ",(0,s.jsx)(n.code,{children:"ranger.plugin.doris.policy.rest.url"})," to actual values."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:"ranger-doris-audit.xml"})," file in the conf directory of all FEs with the following content:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'<?xml version="1.0" encoding="UTF-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n</configuration>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:"log4j.properties"})," file in the conf directory of all FEs with the following content:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"log4j.rootLogger = warn,stdout,D\n\nlog4j.appender.stdout = org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target = System.out\nlog4j.appender.stdout.layout = org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern = [%-5p] %d{yyyy-MM-dd HH:mm:ss,SSS} method:%l%n%m%n\n\nlog4j.appender.D = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.D.File = /path/to/fe/log/ranger.log\nlog4j.appender.D.Append = true\nlog4j.appender.D.Threshold = INFO\nlog4j.appender.D.layout = org.apache.log4j.PatternLayout\nlog4j.appender.D.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You need to change ",(0,s.jsx)(n.code,{children:"log4j.appender.D.File"})," to the actual value, which is used to store the log of the Ranger plug-in."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Add configuration in fe.conf of all FEs:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"access_controller_type=ranger-doris"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Restart all FE nodes."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"resources-and-permissions",children:"Resources and permissions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Doris resources currently supported in Ranger include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Catalog"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Database"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Table"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Column"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Resource"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Workload Group"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Doris permissions currently supported in Ranger include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"SHOW"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"SHOW_VIEW"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"SHOW_RESOURCES"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"SHOW_WORKLOAD_GROUP"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"LOAD"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ALTER"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"CREATE"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ALTER_CREATE"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ALTER_CREATE_DROP"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"DROP"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"SELECT"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"USAGE"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"configuring-permissions",children:"Configuring Permissions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create ",(0,s.jsx)(n.code,{children:"user1"})," in Doris."]}),"\n",(0,s.jsxs)(n.li,{children:["Using the ",(0,s.jsx)(n.code,{children:"admin"})," user in Doris, create a Catalog named ",(0,s.jsx)(n.code,{children:"hive"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Create ",(0,s.jsx)(n.code,{children:"user1"})," in Ranger."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"global-priv",children:"Global Priv"}),"\n",(0,s.jsxs)(n.p,{children:["Equivalent to Doris' internal authorization statement ",(0,s.jsx)(n.code,{children:"grant select_priv on *.*.* to user1"}),";"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The global option can be found in the dropdown menu of the same level in the catalog"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Only ",(0,s.jsx)(n.code,{children:"*"})," can be entered in the input box"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"global",src:i(256005).Z+"",width:"2866",height:"1508"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"catalog-priv",children:"Catalog Priv"}),"\n",(0,s.jsxs)(n.p,{children:["Equivalent to Doris' internal authorization statement ",(0,s.jsx)(n.code,{children:"grant select_priv on hive.*.* to user1"}),";"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"catalog",src:i(600021).Z+"",width:"2864",height:"1512"})}),"\n",(0,s.jsx)(n.h4,{id:"database-priv",children:"Database Priv"}),"\n",(0,s.jsxs)(n.p,{children:["Equivalent to Doris' internal authorization statement ",(0,s.jsx)(n.code,{children:"grant select_priv on hive.tpch.* to user1"}),";"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"database",src:i(100706).Z+"",width:"2854",height:"1554"})}),"\n",(0,s.jsx)(n.h4,{id:"table-priv",children:"Table Priv"}),"\n",(0,s.jsxs)(n.p,{children:["Equivalent to Doris' internal authorization statement ",(0,s.jsx)(n.code,{children:"grant select_priv on hive.tpch.user to user1"}),";"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"table",src:i(724015).Z+"",width:"2864",height:"1552"})}),"\n",(0,s.jsx)(n.h4,{id:"column-priv",children:"Column Priv"}),"\n",(0,s.jsxs)(n.p,{children:["Equivalent to Doris' internal authorization statement ",(0,s.jsx)(n.code,{children:"grant select_priv(name,age) on hive.tpch.user to user1"}),";"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"column",src:i(230861).Z+"",width:"2858",height:"1552"})}),"\n",(0,s.jsx)(n.h4,{id:"resource-priv",children:"Resource Priv"}),"\n",(0,s.jsxs)(n.p,{children:["Equivalent to Doris' internal authorization statement ",(0,s.jsx)(n.code,{children:"grant usage_priv on resource 'resource1' to user1"}),";"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The resource option can be found in the dropdown menu of the same level in the catalog"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"resource",src:i(851378).Z+"",width:"2878",height:"1544"})}),"\n",(0,s.jsx)(n.h4,{id:"workload-group-priv",children:"Workload Group Priv"}),"\n",(0,s.jsxs)(n.p,{children:["Equivalent to Doris' internal authorization statement ",(0,s.jsx)(n.code,{children:"grant usage_priv on workload group 'group1' to user1"}),";"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The workload group option can be found in the dropdown menu of the same level in the catalog"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"group1",src:i(739782).Z+"",width:"2878",height:"1532"})}),"\n",(0,s.jsx)(n.h3,{id:"row-policy-example",children:"Row Policy Example"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Supported in version 2.1.3"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Refer to Configuring Permissions to assign select permissions for the table internal.db1.user to user1."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Add a Row Level Filter policy in Ranger"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Row Policy Example",src:i(797447).Z+"",width:"1280",height:"703"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Log in to Doris as user1. Execute ",(0,s.jsx)(n.code,{children:"select * from internal.db1.user"})," and only see data that satisfies ",(0,s.jsx)(n.code,{children:"id > 3"})," and ",(0,s.jsx)(n.code,{children:"age = 2"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"data-mask-example",children:"Data Mask Example"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Supported in version 2.1.3"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Refer to Configuring Permissions to assign select permissions for the table internal.db1.user to user1."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Add a Masking policy in Ranger"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Data Mask Example",src:i(3830).Z+"",width:"1280",height:"702"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Log in to Doris as user1. Execute ",(0,s.jsx)(n.code,{children:"select * from internal.db1.user"})," and observe that the phone numbers are masked according to the specified rules."]}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},600021:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/catalog-2804feb30d3521d7c4264c9f101dd7a4.png"},230861:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/column-5da963241d596f0ff33ac0f820777586.png"},100706:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/database-b7937539c5df2bee922a1677f2665298.png"},256005:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/global-b9ae251ae4e6766b41278849fc17ec62.png"},739782:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/group1-d5d2748e9b699dc8f52f2bf932ae892e.png"},3830:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/ranger-data-mask-b6a744951ab66b50d2eab58507a71e58.png"},797447:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/ranger-row-policy-1ff51f26011c8534e95ba9a308d952a2.jpeg"},696748:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/ranger1-f3bf6121740cc89e025f6a1b2ae9a0f2.png"},712206:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/ranger2-e4453db1ebcf2d34cb964bcf67999dd7.png"},851378:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/resource-0ff0b624695ba3cff9451ccd1742f549.png"},724015:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/table-45cec6f0894baab2419d290bd738e805.png"},250065:function(e,n,i){i.d(n,{Z:function(){return t},a:function(){return o}});var r=i(667294);let s={},l=r.createContext(s);function o(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);
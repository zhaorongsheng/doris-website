"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["517601"],{706574:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>d,metadata:()=>l,assets:()=>a,toc:()=>o,contentTitle:()=>i});var l=JSON.parse('{"id":"lakehouse/catalogs/lakesoul-catalog","title":"LakeSoul Catalog","description":"\x3c!--","source":"@site/docs/lakehouse/catalogs/lakesoul-catalog.md","sourceDirName":"lakehouse/catalogs","slug":"/lakehouse/catalogs/lakesoul-catalog","permalink":"/docs/dev/lakehouse/catalogs/lakesoul-catalog","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"LakeSoul Catalog","language":"en"},"sidebar":"docs","previous":{"title":"Kudu Catalog","permalink":"/docs/dev/lakehouse/catalogs/kudu-catalog"},"next":{"title":"JDBC Catalog","permalink":"/docs/dev/lakehouse/catalogs/jdbc-catalog-overview"}}'),t=s("785893"),r=s("250065");let d={title:"LakeSoul Catalog",language:"en"},i=void 0,a={},o=[{value:"Applicable Scenarios",id:"applicable-scenarios",level:2},{value:"Configuring Catalog",id:"configuring-catalog",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Supported LakeSoul Versions",id:"supported-lakesoul-versions",level:3},{value:"Supported LakeSoul Formats",id:"supported-lakesoul-formats",level:3},{value:"Column Type Mapping",id:"column-type-mapping",level:2},{value:"Examples",id:"examples",level:2},{value:"Query Operations",id:"query-operations",level:2},{value:"Basic Query",id:"basic-query",level:3}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Doris supports accessing and reading LakeSoul table data using metadata stored in PostgreSQL."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/docs/dev/lakehouse/best-practices/doris-lakesoul",children:"Quickly Experience Apache Doris & LakeSoul with Docker"})}),"\n",(0,t.jsx)(n.h2,{id:"applicable-scenarios",children:"Applicable Scenarios"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Scenario"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Data Integration"}),(0,t.jsx)(n.td,{children:"Read LakeSoul data and write it to Doris internal tables, or perform ZeroETL operations using the Doris computing engine."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Data Write-back"}),(0,t.jsx)(n.td,{children:"Not supported."})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"configuring-catalog",children:"Configuring Catalog"}),"\n",(0,t.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG lakesoul_catalog PROPERTIES (\n    'type' = 'lakesoul',\n    {LakeSoulProperties},\n    {CommonProperties}\n);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"{LakeSoulProperties}"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"lakesoul.pg.username"})}),(0,t.jsx)(n.td,{children:"Username for the PG source database"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"lakesoul.pg.password"})}),(0,t.jsx)(n.td,{children:"Password for the PG source database"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"lakesoul.pg.url"})}),(0,t.jsx)(n.td,{children:"JDBC URL for the PG metadata database"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"jdbc:postgresql://127.0.0.1:5432/lakesoul_test?stringtype=unspecified"})})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"{CommonProperties}"})}),"\n",(0,t.jsxs)(n.p,{children:["The CommonProperties section is for filling in general properties. Please refer to the ",(0,t.jsx)(n.a,{href:"/docs/dev/lakehouse/catalog-overview",children:"Data Catalog Overview"}),' under the "Common Properties" section.']}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If LakeSoul data is stored on HDFS, place ",(0,t.jsx)(n.code,{children:"core-site.xml"}),", ",(0,t.jsx)(n.code,{children:"hdfs-site.xml"}),", and ",(0,t.jsx)(n.code,{children:"hive-site.xml"})," in the ",(0,t.jsx)(n.code,{children:"conf/"})," directory of both FE and BE. The Hadoop configuration files in the ",(0,t.jsx)(n.code,{children:"conf/"})," directory are read first, followed by the configuration files specified by the ",(0,t.jsx)(n.code,{children:"HADOOP_CONF_DIR"})," environment variable."]}),"\n",(0,t.jsx)(n.h3,{id:"supported-lakesoul-versions",children:"Supported LakeSoul Versions"}),"\n",(0,t.jsx)(n.p,{children:"The currently supported LakeSoul version is 2.6.2."}),"\n",(0,t.jsx)(n.h3,{id:"supported-lakesoul-formats",children:"Supported LakeSoul Formats"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Supports LakeSoul primary key and non-primary key tables."}),"\n",(0,t.jsx)(n.li,{children:"Supports reading LakeSoul MOR (Merge-On-Read) tables."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"column-type-mapping",children:"Column Type Mapping"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"LakeSoul Type"}),(0,t.jsx)(n.th,{children:"Doris Type"}),(0,t.jsx)(n.th,{children:"Comment"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"int8"}),(0,t.jsx)(n.td,{children:"tinyint"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"int16"}),(0,t.jsx)(n.td,{children:"smallint"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"int32"}),(0,t.jsx)(n.td,{children:"int"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"int64"}),(0,t.jsx)(n.td,{children:"bigint"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"double"}),(0,t.jsx)(n.td,{children:"double"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"decimal(P, S)"}),(0,t.jsx)(n.td,{children:"decimal(P, S)"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"date"}),(0,t.jsx)(n.td,{children:"date"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"timestamp(S)"}),(0,t.jsx)(n.td,{children:"datetime(S)"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"list"}),(0,t.jsx)(n.td,{children:"array"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"map"}),(0,t.jsx)(n.td,{children:"map"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"row"}),(0,t.jsx)(n.td,{children:"struct"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"other"}),(0,t.jsx)(n.td,{children:"UNSUPPORTED"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG lakesoul PROPERTIES (\n    'type' = 'lakesoul',\n    'lakesoul.pg.username' = 'lakesoul_test',\n    'lakesoul.pg.password' = 'lakesoul_test',\n    'lakesoul.pg.url' = 'jdbc:postgresql://127.0.0.1:5432/lakesoul_test?stringtype=unspecified'\n);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"query-operations",children:"Query Operations"}),"\n",(0,t.jsx)(n.h3,{id:"basic-query",children:"Basic Query"}),"\n",(0,t.jsx)(n.p,{children:"Once the Catalog is configured, you can query the table data in the Catalog as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- 1. switch to catalog, use database and query\nSWITCH ls_ctl;\nUSE ls_db;\nSELECT * FROM ls_tbl LIMIT 10;\n\n-- 2. use lakesoul database directly\nUSE ls_ctl.ls_db;\nSELECT * FROM ls_tbl LIMIT 10;\n\n-- 3. use full qualified name to query\nSELECT * FROM ls_ctl.ls_db.ls_tbl LIMIT 10;\n"})})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return d}});var l=s(667294);let t={},r=l.createContext(t);function d(e){let n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);
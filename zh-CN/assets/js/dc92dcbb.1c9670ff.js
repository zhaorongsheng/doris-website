"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["151291"],{450736:function(e,n,r){r.r(n),r.d(n,{default:()=>o,frontMatter:()=>d,metadata:()=>s,assets:()=>i,toc:()=>a,contentTitle:()=>t});var s=JSON.parse('{"id":"lakehouse/database/oracle","title":"Oracle","description":"\x3c!--","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-3.0/lakehouse/database/oracle.md","sourceDirName":"lakehouse/database","slug":"/lakehouse/database/oracle","permalink":"/zh-CN/docs/3.0/lakehouse/database/oracle","draft":false,"unlisted":false,"tags":[],"version":"3.0","frontMatter":{"title":"Oracle","language":"zh-CN"},"sidebar":"docs","previous":{"title":"PostgreSQL","permalink":"/zh-CN/docs/3.0/lakehouse/database/postgresql"},"next":{"title":"SQL Server","permalink":"/zh-CN/docs/3.0/lakehouse/database/sqlserver"}}'),l=r("785893"),c=r("250065");let d={title:"Oracle",language:"zh-CN"},t=void 0,i={},a=[{value:"\u4F7F\u7528\u987B\u77E5",id:"\u4F7F\u7528\u987B\u77E5",level:2},{value:"\u8FDE\u63A5 Oracle",id:"\u8FDE\u63A5-oracle",level:2},{value:"\u5C42\u7EA7\u6620\u5C04",id:"\u5C42\u7EA7\u6620\u5C04",level:2},{value:"\u7C7B\u578B\u6620\u5C04",id:"\u7C7B\u578B\u6620\u5C04",level:2},{value:"Oracle \u5230 Apache Doris \u7C7B\u578B\u6620\u5C04",id:"oracle-\u5230-apache-doris-\u7C7B\u578B\u6620\u5C04",level:3},{value:"\u67E5\u8BE2\u4F18\u5316",id:"\u67E5\u8BE2\u4F18\u5316",level:2},{value:"\u8C13\u8BCD\u4E0B\u63A8",id:"\u8C13\u8BCD\u4E0B\u63A8",level:3},{value:"\u884C\u6570\u9650\u5236",id:"\u884C\u6570\u9650\u5236",level:3},{value:"\u8F6C\u4E49\u5B57\u7B26",id:"\u8F6C\u4E49\u5B57\u7B26",level:3},{value:"\u5E38\u89C1\u95EE\u9898",id:"\u5E38\u89C1\u95EE\u9898",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"Apache Doris JDBC Catalog \u652F\u6301\u901A\u8FC7\u6807\u51C6 JDBC \u63A5\u53E3\u8FDE\u63A5 Oracle \u6570\u636E\u5E93\u3002\u672C\u6587\u6863\u4ECB\u7ECD\u5982\u4F55\u914D\u7F6E Oracle \u6570\u636E\u5E93\u8FDE\u63A5\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u4F7F\u7528\u987B\u77E5",children:"\u4F7F\u7528\u987B\u77E5"}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u8FDE\u63A5\u5230 Oracle \u6570\u636E\u5E93\uFF0C\u60A8\u9700\u8981"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Oracle 19c, 18c, 12c, 11g \u6216 10g\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Oracle \u6570\u636E\u5E93\u7684 JDBC \u9A71\u52A8\u7A0B\u5E8F\uFF0C\u60A8\u53EF\u4EE5\u4ECE ",(0,l.jsx)(n.a,{href:"https://mvnrepository.com/artifact/com.oracle.database.jdbc",children:"Maven \u4ED3\u5E93"}),"\u4E0B\u8F7D Ojdbc8 \u53CA\u4EE5\u4E0A\u7248\u672C\u7684 Oracle JDBC \u9A71\u52A8\u7A0B\u5E8F\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Apache Doris \u6BCF\u4E2A FE \u548C BE \u8282\u70B9\u548C Oracle \u670D\u52A1\u5668\u4E4B\u95F4\u7684\u7F51\u7EDC\u8FDE\u63A5\uFF0C\u9ED8\u8BA4\u7AEF\u53E3\u4E3A 1521\uFF1B\u5982\u679C Oracle RAC \u542F\u7528 ONS\uFF0C\u8FD8\u9700\u5F00\u901A 6200 \u7AEF\u53E3\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u8FDE\u63A5-oracle",children:"\u8FDE\u63A5 Oracle"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'CREATE CATALOG oracle PROPERTIES (\n    "type"="jdbc",\n    "user"="root",\n    "password"="secret",\n    "jdbc_url" = "jdbc:oracle:thin:@example.net:1521:orcl",\n    "driver_url" = "ojdbc8.jar",\n    "driver_class" = "oracle.jdbc.driver.OracleDriver"\n)\n'})}),"\n",(0,l.jsx)(n.admonition,{title:"\u5907\u6CE8",type:"info",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"jdbc_url"})," \u5B9A\u4E49\u8981\u4F20\u9012\u7ED9 JDBC \u9A71\u52A8\u7A0B\u5E8F\u7684\u8FDE\u63A5\u4FE1\u606F\u548C\u53C2\u6570\u3002\n\u4F7F\u7528 Oracle JDBC Thin \u9A71\u52A8\u7A0B\u5E8F\u65F6\uFF0CURL \u7684\u8BED\u6CD5\u53EF\u80FD\u4F1A\u6709\u6240\u4E0D\u540C\uFF0C\u5177\u4F53\u53D6\u51B3\u4E8E\u60A8\u7684 Oracle \u914D\u7F6E\u3002\n\u4F8B\u5982\uFF0C\u5982\u679C\u60A8\u8981\u8FDE\u63A5\u5230 Oracle SID \u6216 Oracle \u670D\u52A1\u540D\u79F0\uFF0C\u5219\u8FDE\u63A5 URL \u4F1A\u6709\u6240\u4E0D\u540C\u3002\n\u6709\u5173\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u9605 ",(0,l.jsx)(n.a,{href:"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/data-sources-and-URLs.html",children:"Oracle \u6570\u636E\u5E93 JDBC \u9A71\u52A8\u7A0B\u5E8F\u6587\u6863"}),"\u3002\n\u4EE5\u4E0A\u793A\u4F8B URL \u8FDE\u63A5\u5230\u540D\u4E3A",(0,l.jsx)(n.code,{children:"orcl"}),"\u7684 Oracle SID\u3002"]})}),"\n",(0,l.jsx)(n.h2,{id:"\u5C42\u7EA7\u6620\u5C04",children:"\u5C42\u7EA7\u6620\u5C04"}),"\n",(0,l.jsx)(n.p,{children:"\u6620\u5C04 Oracle \u65F6\uFF0CApache Doris \u7684\u4E00\u4E2A Database \u5BF9\u5E94\u4E8E Oracle \u4E2D\u7684\u4E00\u4E2A User\u3002\u800C Apache Doris \u7684 Database \u4E0B\u7684 Table \u5219\u5BF9\u5E94\u4E8E Oracle \u4E2D\uFF0C\u8BE5 User \u4E0B\u7684\u6709\u6743\u9650\u8BBF\u95EE\u7684 Table\u3002\u5373\u6620\u5C04\u5173\u7CFB\u5982\u4E0B\uFF1A"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"center"},children:"Apache Doris"}),(0,l.jsx)(n.th,{style:{textAlign:"center"},children:"Oracle"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"Catalog"}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"Database"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"Database"}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"User"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"Table"}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"Table"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u7C7B\u578B\u6620\u5C04",children:"\u7C7B\u578B\u6620\u5C04"}),"\n",(0,l.jsx)(n.h3,{id:"oracle-\u5230-apache-doris-\u7C7B\u578B\u6620\u5C04",children:"Oracle \u5230 Apache Doris \u7C7B\u578B\u6620\u5C04"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Oracle Type"}),(0,l.jsx)(n.th,{children:"Apache Doris Type"}),(0,l.jsx)(n.th,{children:"Comment"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"number(p) / number(p,0)"}),(0,l.jsx)(n.td,{children:"TINYINT/SMALLINT/INT/BIGINT/LARGEINT"}),(0,l.jsxs)(n.td,{children:["Doris \u4F1A\u6839\u636E p \u7684\u5927\u5C0F\u6765\u9009\u62E9\u5BF9\u5E94\u7684\u7C7B\u578B\uFF1A",(0,l.jsx)(n.code,{children:"p < 3"})," -> ",(0,l.jsx)(n.code,{children:"TINYINT"}),"; ",(0,l.jsx)(n.code,{children:"p < 5"})," -> ",(0,l.jsx)(n.code,{children:"SMALLINT"}),"; ",(0,l.jsx)(n.code,{children:"p < 10"})," -> ",(0,l.jsx)(n.code,{children:"INT"}),"; ",(0,l.jsx)(n.code,{children:"p < 19"})," -> ",(0,l.jsx)(n.code,{children:"BIGINT"}),"; ",(0,l.jsx)(n.code,{children:"p > 19"})," -> ",(0,l.jsx)(n.code,{children:"LARGEINT"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"number(p,s), [ if(s>0 && p>s) ]"}),(0,l.jsx)(n.td,{children:"DECIMAL(p,s)"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"number(p,s), [ if(s>0 && p < s) ]"}),(0,l.jsx)(n.td,{children:"DECIMAL(s,s)"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"number(p,s), [ if(s<0) ]"}),(0,l.jsx)(n.td,{children:"TINYINT/SMALLINT/INT/BIGINT/LARGEINT"}),(0,l.jsx)(n.td,{children:"s<0 \u7684\u60C5\u51B5\u4E0B\uFF0CDoris \u4F1A\u5C06 p \u8BBE\u7F6E\u4E3A p+|s|\uFF0C\u5E76\u8FDB\u884C\u548C number(p) / number(p,0) \u4E00\u6837\u7684\u6620\u5C04"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"number"}),(0,l.jsx)(n.td,{}),(0,l.jsx)(n.td,{children:"Doris \u76EE\u524D\u4E0D\u652F\u6301\u672A\u6307\u5B9A p \u548C s \u7684 oracle \u7C7B\u578B"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"decimal"}),(0,l.jsx)(n.td,{children:"DECIMAL"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float/real"}),(0,l.jsx)(n.td,{children:"DOUBLE"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"DATE"}),(0,l.jsx)(n.td,{children:"DATETIME"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"TIMESTAMP"}),(0,l.jsx)(n.td,{children:"DATETIME"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"CHAR/NCHAR"}),(0,l.jsx)(n.td,{children:"STRING"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"VARCHAR2/NVARCHAR2"}),(0,l.jsx)(n.td,{children:"STRING"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"LONG/ RAW/ LONG RAW/ INTERVAL"}),(0,l.jsx)(n.td,{children:"STRING"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Other"}),(0,l.jsx)(n.td,{children:"UNSUPPORTED"}),(0,l.jsx)(n.td,{})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u67E5\u8BE2\u4F18\u5316",children:"\u67E5\u8BE2\u4F18\u5316"}),"\n",(0,l.jsx)(n.h3,{id:"\u8C13\u8BCD\u4E0B\u63A8",children:"\u8C13\u8BCD\u4E0B\u63A8"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5F53\u6267\u884C\u7C7B\u4F3C\u4E8E ",(0,l.jsx)(n.code,{children:"where dt = '2022-01-01'"})," \u8FD9\u6837\u7684\u67E5\u8BE2\u65F6\uFF0CApache Doris \u80FD\u591F\u5C06\u8FD9\u4E9B\u8FC7\u6EE4\u6761\u4EF6\u4E0B\u63A8\u5230\u5916\u90E8\u6570\u636E\u6E90\uFF0C\u4ECE\u800C\u76F4\u63A5\u5728\u6570\u636E\u6E90\u5C42\u9762\u6392\u9664\u4E0D\u7B26\u5408\u6761\u4EF6\u7684\u6570\u636E\uFF0C\u51CF\u5C11\u4E86\u4E0D\u5FC5\u8981\u7684\u6570\u636E\u83B7\u53D6\u548C\u4F20\u8F93\u3002\u8FD9\u5927\u5927\u63D0\u9AD8\u4E86\u67E5\u8BE2\u6027\u80FD\uFF0C\u540C\u65F6\u4E5F\u964D\u4F4E\u4E86\u5BF9\u5916\u90E8\u6570\u636E\u6E90\u7684\u8D1F\u8F7D\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5F53\u53D8\u91CF ",(0,l.jsx)(n.code,{children:"enable_ext_func_pred_pushdown"})," \u8BBE\u7F6E\u4E3A true\uFF0C\u4F1A\u5C06 where \u4E4B\u540E\u7684\u51FD\u6570\u6761\u4EF6\u4E5F\u4E0B\u63A8\u5230\u5916\u90E8\u6570\u636E\u6E90\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u76EE\u524D\u652F\u6301\u4E0B\u63A8\u5230 Oracle \u7684\u51FD\u6570\u6709\uFF1A"}),"\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsx)(n.tr,{children:(0,l.jsx)(n.th,{style:{textAlign:"center"},children:"Function"})})}),(0,l.jsx)(n.tbody,{children:(0,l.jsx)(n.tr,{children:(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"NVL"})})})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u884C\u6570\u9650\u5236",children:"\u884C\u6570\u9650\u5236"}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679C\u5728\u67E5\u8BE2\u4E2D\u5E26\u6709 limit \u5173\u952E\u5B57\uFF0CApache Doris \u4F1A\u5C06 limit \u8F6C\u4E49\u4E3A Oracle \u7684 ",(0,l.jsx)(n.code,{children:"rownum"})," \u8BED\u6CD5\uFF0C\u4EE5\u51CF\u5C11\u6570\u636E\u4F20\u8F93\u91CF\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8F6C\u4E49\u5B57\u7B26",children:"\u8F6C\u4E49\u5B57\u7B26"}),"\n",(0,l.jsx)(n.p,{children:'Apache Doris \u4F1A\u5728\u4E0B\u53D1\u5230 Oracle \u7684\u67E5\u8BE2\u8BED\u53E5\u4E2D\uFF0C\u81EA\u52A8\u5728\u5B57\u6BB5\u540D\u4E0E\u8868\u540D\u4E0A\u52A0\u4E0A\u8F6C\u4E49\u7B26\uFF1A("")\uFF0C\u4EE5\u907F\u514D\u5B57\u6BB5\u540D\u4E0E\u8868\u540D\u4E0E Oracle \u5185\u90E8\u5173\u952E\u5B57\u51B2\u7A81\u3002'}),"\n",(0,l.jsx)(n.h2,{id:"\u5E38\u89C1\u95EE\u9898",children:"\u5E38\u89C1\u95EE\u9898"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u521B\u5EFA\u6216\u67E5\u8BE2 Oracle Catalog \u65F6\u51FA\u73B0 ",(0,l.jsx)(n.code,{children:"ONS configuration failed"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 be.conf \u7684 JAVA_OPTS \u589E\u52A0 -Doracle.jdbc.fanEnabled=false \u5E76\u4E14\u5347\u7EA7 driver \u5230 ",(0,l.jsx)(n.a,{href:"https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/19.23.0.0/ojdbc8-19.23.0.0.jar",children:"https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/19.23.0.0/ojdbc8-19.23.0.0.jar"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u521B\u5EFA\u6216\u67E5\u8BE2 Oracle Catalog \u65F6\u51FA\u73B0 ",(0,l.jsx)(n.code,{children:"Non supported character set (add orai18n.jar in your classpath): ZHS16GBK"})," \u5F02\u5E38"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0B\u8F7D ",(0,l.jsx)(n.a,{href:"https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html",children:"orai18n.jar"})," \u5E76\u653E\u5230 \u6BCF\u4E2A FE \u548C BE \u7684\u76EE\u5F55\u4E0B\u7684 ",(0,l.jsx)(n.code,{children:"custom_lib/"})," \u76EE\u5F55\u4E0B\uFF08\u5982\u4E0D\u5B58\u5728\uFF0C\u624B\u52A8\u521B\u5EFA\u5373\u53EF\uFF09\u5E76\u91CD\u542F\u6BCF\u4E2A FE \u548C BE\u3002"]}),"\n"]}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return t},a:function(){return d}});var s=r(667294);let l={},c=s.createContext(l);function d(e){let n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);